<!DOCTYPE HTML>
<html>
  <head>
		<title>Avunque's Photography</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    		<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="http://cdn.dcodes.net/2/flickr/js/colorbox/colorbox.css" rel="stylesheet" type="text/css" media="screen" /> 
<script src="http://cdn.dcodes.net/2/flickr/js/colorbox/jquery.colorbox-min.js"></script>


<!-- new from Tom-->
<style>		
 .col-md-3 {
  height: 300px;
  border: 1px solid;
  background-repeat: no-repeat;
  background-position: center; 
}
</style>
<!-- END new -->
		
 </head>
   <body>
   <div class="container">
    
	   
					          console.log("ready"); //just to check in the firebug console.
					          
<!-- Main -->
	                       
    <div class="row no-gutter" id="theContent">
       </div>

	   HOLA

<!-- New Scripts -->
		<script>
//by T. Woodward. See: https://codepen.io/twwoodward/pen/MQRLao
		
const url = 'https://blogs.netedu.info/wp-json/wp/v2/posts?filter[tag]=photo';
fetch(url)
  .then(function(response) {
  // Convert to JSON
  return response.json();
})
  .then(function(data) {
  // GOOD!
  for (i = 0; i < data.length; i++) {
    writeEvents(data[i]);
  } 
});
function writeEvents(data) {
  var post = jQuery('#theContent').append(
    jQuery(
       '<div class="col-md-3 square" 
	    style="background-image: url('+findBgImg(data.content.rendered)+')">' + '<a href="' + data.link + '">' +
      data.title.rendered + '</a>'
      + '</div>'
    ) 
  );
}
//finds your image from the post content
function findBgImg(content){
  img = content.match('<img [^>]*src="([^"]*)"[^>]*>');  
  if (img && img[1]){
    return img[1]; 
  } else {
    return 'https://c1.staticflickr.com/5/4655/26616606138_0942be75c9.jpg'//whatever your default image might be if it can't find one
  }
}
	</script>

	<!-- END HERE FROM Tom -->
	
	
    </div>
---
END
	
	</body>
</html>
